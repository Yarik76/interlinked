"use strict";(self.webpackChunkinterlinked=self.webpackChunkinterlinked||[]).push([[465],{1252:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var o=s(1413),i=s(2791),n=s(7689),r="Profile_profile__6zJFg",a={profileInfo:"ProfileInfo_profileInfo__qsv8I",bgImg:"ProfileInfo_bgImg__EuNqs",profileImage:"ProfileInfo_profileImage__XTKqH",descr:"ProfileInfo_descr__I3k1E",contacts:"ProfileInfo_contacts__JBv8O"},l=s(1087),c=s.p+"static/media/background.5f86a9ceeff1c35794a9.webp",u=s(8820),f=s(6907),d=s(7396),p=s(9439),x=s(184),h=function(e){var t=(0,i.useState)(e.status),s=(0,p.Z)(t,2),o=s[0],n=s[1],r=(0,i.useState)(!1),a=(0,p.Z)(r,2),l=a[0],c=a[1];(0,i.useEffect)((function(){return n(e.status)}),[e.status]);return(0,x.jsx)("div",{children:l?(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:function(e){n(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(o)},value:o})}):(0,x.jsx)("div",{children:(0,x.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"---"})})})},m="ChangeImg_changeImgBtn__6Ibe2",g=function(e){return(0,x.jsx)("div",{className:m,children:(0,x.jsx)("input",{onChange:function(t){e.updatePhoto(t.target.files[0])},type:"file",accept:".png"})})},j=function(e){return(0,x.jsxs)("div",{className:a.profileInfo,children:[(0,x.jsx)("div",{className:a.bgImg,children:(0,x.jsx)("img",{src:c})}),(0,x.jsxs)("div",{className:a.profileImage,children:[e.profile.photos.large?(0,x.jsx)("img",{src:e.profile.photos.large}):(0,x.jsx)("img",{src:d}),e.userId?"":(0,x.jsx)(g,{updatePhoto:e.updatePhoto})]}),(0,x.jsxs)("div",{className:a.descr,children:[(0,x.jsx)("h1",{children:e.profile.fullName}),(0,x.jsx)(h,{updateStatus:e.updateStatus,status:e.status}),(0,x.jsxs)("div",{className:a.aboutMe,children:["About me: ",e.profile.aboutMe]}),e.profile.contacts.facebook&&e.profile.contacts.vk&&e.profile.contacts.github?(0,x.jsxs)("ul",{className:a.contacts,children:[(0,x.jsx)("li",{children:(0,x.jsx)(l.OL,{className:a.contact,target:"_blank",to:e.profile.contacts.facebook,children:(0,x.jsx)(u.s5I,{size:"1.5rem"})})}),(0,x.jsx)("li",{children:(0,x.jsx)(l.OL,{className:a.contact,target:"_blank",to:e.profile.contacts.vk,children:(0,x.jsx)(f.xYP,{size:"1.5rem"})})}),(0,x.jsx)("li",{children:(0,x.jsx)(l.OL,{className:a.contact,target:"_blank",to:e.profile.contacts.github,children:(0,x.jsx)(u.RrF,{size:"1.5rem"})})})]}):""]})]})},_=s(9195),P="MyPosts_myPosts__PInun",v="MyPosts_posts__2grYD",I="MyPosts_postForm__fxXFn",k={post:"Post_post__018FT",avaAndText:"Post_avaAndText__LkVvV",text:"Post_text__IWwMl",like:"Post_like__LhxkR",likesCount:"Post_likesCount__PEBBG"},N=function(e){return(0,x.jsxs)("div",{className:k.post,children:[(0,x.jsxs)("div",{className:k.avaAndText,children:[e.profile.photos.large?(0,x.jsx)("img",{src:e.profile.photos.large}):(0,x.jsx)("img",{className:k.img,src:d}),(0,x.jsx)("div",{className:k.text,children:e.message})]}),(0,x.jsxs)("div",{className:k.like,children:["like",(0,x.jsx)("span",{className:k.likesCount,children:e.likesCount})]})]})},b=function(e){var t=(0,_.cI)({mode:"onChange"}),s=t.register,i=t.handleSubmit,n=t.formState.errors,r=t.reset,a=function(t){e.addPost(t.newPostText),r()},l=function(){return(0,x.jsxs)("form",{className:I,onSubmit:i(a),children:[(0,x.jsx)("textarea",(0,o.Z)({},s("newPostText",{required:"Write smth...",validate:function(e){return""!==e.trim()?null:"No white spaces"}}))),(0,x.jsxs)("div",{children:[n.newPostText&&(0,x.jsx)("div",{className:"errorMsg",children:n.newPostText.message}),(0,x.jsx)("button",{children:"Add post"})]})]})};return(0,x.jsxs)("div",{className:P,children:[(0,x.jsx)("h4",{children:"My posts"}),(0,x.jsx)(l,{}),(0,x.jsx)("div",{className:v,children:e.postsData.map((function(t){return(0,x.jsx)(N,{profile:e.profile,message:t.message,likesCount:t.likesCount},t.id)}))})]})},C=(0,i.memo)(b),S=s(6868),T=s(3531),w=(0,T.$j)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:S.q2})(C),A=s(5197),M=function(e){return e.profile?(0,x.jsxs)("div",{className:r,children:[(0,x.jsx)(j,{userId:e.userId,updatePhoto:e.updatePhoto,updateStatus:e.updateStatus,status:e.status,profile:e.profile}),(0,x.jsx)(w,{profile:e.profile})]}):(0,x.jsx)(A.Z,{})},D=s(5927),F=(0,s(7781).qC)((0,T.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,id:e.auth.id,profileAuthImg:e.profilePage.profileAuthImg}}),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf,updatePhoto:S.tU}),D.D)((function(e){var t=(0,n.UO)().userId,s=(0,n.s0)();return(0,i.useEffect)((function(){t||(t=e.id)||s("/login"),t&&(e.getUserProfile(t),e.getStatus(t))}),[t,e.profileAuthImg]),(0,x.jsx)(M,(0,o.Z)((0,o.Z)({},e),{},{userId:t}))}))},5927:function(e,t,s){s.d(t,{D:function(){return l}});var o=s(1413),i=(s(2791),s(7689)),n=s(3531),r=s(184),a=function(e){return{isAuth:e.auth.isAuth}},l=function(e){return(0,n.$j)(a)((function(t){return t.isAuth?(0,r.jsx)(e,(0,o.Z)({},t)):(0,r.jsx)(i.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=465.c94f86bc.chunk.js.map